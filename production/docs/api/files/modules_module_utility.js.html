<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>modules/module_utility.js - Educational Visualization</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="http://epe.marine.rutgers.edu/ev/img/ev_logo.png" title="Educational Visualization"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.2.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/EduVis.Configuration.html">EduVis.Configuration</a></li>
            
                <li><a href="../classes/EduVis.Controls.html">EduVis.Controls</a></li>
            
                <li><a href="../classes/EduVis.formats.html">EduVis.formats</a></li>
            
                <li><a href="../classes/resource.html">resource</a></li>
            
                <li><a href="../classes/Tool.html">Tool</a></li>
            
                <li><a href="../classes/Utility.html">Utility</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/Resource.html">Resource</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: modules/module_utility.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/*  *  *  *  *  *  *  *
*
* EduVis.utility
*
*/

/**
* The utility module...
*
* @class Utility
* @constructor
*/

(function (eduVis) {
    &quot;use strict&quot;;

    var _utility_version = &quot;0.0.2&quot;, 

/** Copy all properties of an object to another object
* 
* @method _utility_extend_deep
* @param {Object} parent Parent object
* @param {Object} child  object instance ID for reference
* @return {Object} object with parent and child
*/
    
    // has been replaced with jquery extend
    _utility_extend_deep = function (parent, child) {
        var i,
            toStr = Object.prototype.toString,
            astr = &quot;[object Array]&quot;;

        child = child || {};

        for (i in parent) {
            if (parent.hasOwnProperty(i)) {
                if (typeof parent[i] === &quot;object&quot;) {
                    child[i] = (toStr.call(parent[i]) === astr) ? [] : {};
                    _utility_extend_deep(parent[i], child[i]);
                } else {
                    child[i] = parent[i];
                }
            }
            return child;
        }
        return child;//?
    },

/** 
* Check if an object is empty
* 
* @method _utility_is_object_empty
* @param {Object} _obj Object to test for properties
* @return {Bool} returns true if empty, false if object contains a property
*/

    _utility_is_object_empty = function ( _obj ){

        for(var prop in _obj) {
            if(_obj.hasOwnProperty(prop))
                return false;
        }
        return true;
    },

/** 
* calulate the standard deviation of an array based on key
* 
* @method _utility_standard_deviation
* @param {Object} _obj the object or array
* @param {String} _key the object property or array key
* @return {Number} standard deviation
*/
    _utility_standard_deviation = function ( _obj, _key ) {

        // basic standard deviation for the _key accessor of ary or obj array

        var sum = 0,
            diff_ary = [],
            mean,
            diff_sum = 0,
            stddev,
            len = _obj.length,
            x = 0;

        for (; x &lt; len - 1; x++) {
            sum += _obj[x][_key];
        }

        mean = ( sum / _obj.length );

        x=0;

        for (; x &lt; len - 1; x++) {
            diff_ary.push((_obj[x][_key] - mean) * (_obj[x][_key] - mean));
        }

        x=0;

        for (; x &lt; diff_ary.length; x++) {
            diff_sum += diff_ary[x];
        }

        stddev = ( diff_sum / ( diff_ary.length - 1)  );

        return stddev;
    },

/** 
* calulate the linear regression of x and y
* 
* @method linearRegression
* @param {Array} x an array of x values
* @param {Array} y an array of y values
* @return {Number} linear regression object that includes slope, intercept, and r2
*/

    linearRegression = function( x, y ){

        var lr = {}, 
            n = y.length, 
            sum_x = 0, 
            sum_y = 0, 
            sum_xy = 0, 
            sum_xx = 0, 
            sum_yy = 0;

        for (var i = 0; i &lt; y.length; i++) {
            sum_x += x[ i ];
            sum_y += y[ i ];
            sum_xy += ( x[ i ] * y[ i ] );
            sum_xx += ( x[ i ] * x[ i ] );
            sum_yy += ( y[ i ] * y[ i ] );
        }

        lr.slope =  (n * sum_xy - sum_x * sum_y ) / ( n * sum_xx - sum_x * sum_x );
        lr.intercept = ( sum_y - lr.slope * sum_x ) / n;
        lr.r2 = Math.pow( ( n * sum_xy - sum_x * sum_y) / Math.sqrt( ( n * sum_xx-sum_x * sum_x ) * ( n * sum_yy-sum_y*sum_y) ), 2);

        return lr;
    };

/** 
* Utility object functions exposed in EduVis
* 
**/

    eduVis.utility = {
        extend : _utility_extend_deep,
        obj_empty : _utility_is_object_empty,
        stdev : _utility_standard_deviation,
        linReg : linearRegression
    };

}(EduVis));


    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
